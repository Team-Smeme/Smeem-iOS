# Smeem iOS

<img width="908" alt="image" src="https://github.com/Team-Smeme/Smeme-server-renewal/assets/55437339/d375dc1c-abb0-4e2e-a6e5-aad074913114">

<br/><br/>

- âœï¸ **ì„œë¹„ìŠ¤ ì†Œê°œ**: [ì„œë¹„ìŠ¤ ì†Œê°œ ë°”ë¡œê°€ê¸°](https://linktr.ee/smeem)
- ğŸ“± **iOS ë‹¤ìš´ë¡œë“œ**: [App Stroe ë°”ë¡œê°€ê¸°](https://apps.apple.com/kr/app/smeem-%EC%8A%A4%EB%B0%88-%EC%98%81%EC%9E%91-%EC%98%81%EC%96%B4%EC%9D%BC%EA%B8%B0-%EC%98%81%EC%96%B4%EB%85%B8%ED%8A%B8/id6450711685)
- ğŸ“± **Android ë‹¤ìš´ë¡œë“œ**: [App Stroe ë°”ë¡œê°€ê¸°](https://play.google.com/store/apps/details?id=com.sopt.smeem)

<br/>

## ğŸ§‘â€ğŸ’» íŒ€ì› ì†Œê°œ (Team)

| [í™©ì°¬ë¯¸](https://github.com/cchanmi) | [ë°±ì¤€](https://github.com/joonBaek12) |
| --- | --- |
| <img width="250" alt="image" src="https://github.com/Team-Smeme/Smeem-iOS/assets/86944161/44830ea7-faac-4dcd-a778-0c49d3eb7c7a" /> | <img width="250" alt="image" src="https://github.com/Team-Smeme/Smeem-iOS/assets/86944161/0e0cfcb6-d4d7-41f7-9eb0-7f516480939c" /> |
| iOS Lead Developer | iOS Developer |
| - í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„ / ë¦¬íŒ©í† ë§<br/>- ìŠ¤í”Œë˜ì‹œ, ì˜¨ë³´ë”©, ë§ˆì´í˜ì´ì§€ ë·° êµ¬í˜„<br/> | - í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„ / ë¦¬íŒ©í† ë§<br/>- í™ˆ, ì¼ê¸° ì‘ì„±, ìƒì„¸ ì¼ê¸° ë·° êµ¬í˜„ |

<br/>

## âš’ï¸ ê°œë°œ í™˜ê²½
- iOS 15.0 +
- Xcode 15.0

<br/>

## âœ”ï¸ ì‚¬ìš© ê¸°ìˆ  & ë¼ì´ë¸ŒëŸ¬ë¦¬
- UIKit
- Combine
- Moya
- Firebase
- KakaoOpenSDK
- Kingfisher
- Snapkit

<br/>

## ğŸ—‚ï¸ Skills

### MVVM Pattern

<img width="632" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-11 á„‹á…©á„’á…® 8 39 12" src="https://github.com/Team-Smeme/Smeem-iOS/assets/86944161/13946768-5b6b-4273-959b-a0af4835c581">

- MVVM íŒ¨í„´ìœ¼ë¡œ UIì™€ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.
- ViewModelì˜ Inputê³¼ Output êµ¬ì¡°ë¥¼ í†µí•´ ë°ì´í„° íë¦„ì„ ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.

<br/>

### Combine

- Combine Frameworkë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
- ë¹„ë™ê¸° ì‘ì—…ë“¤ì„ ì§‘ì¤‘í™”í•˜ê³  ì½”ë“œë¥¼ ì§ê´€ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

<br/>

### Unit Test Code

- ê¸°ëŠ¥ ê°œë°œ í›„, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ code coverage 80% ì´ìƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

<br/>

### DesignSystem & Custom UI

- í”„ë¡œì íŠ¸ ì‹œì‘ ì „ DesignSystem í™˜ê²½ì„ êµ¬ì¶•í•˜ì—¬ ìƒìˆ˜í™”ëœ ì»¬ëŸ¬, í°íŠ¸, ì´ë¯¸ì§€ì— í¸í•˜ê²Œ ì ‘ê·¼í•©ë‹ˆë‹¤.
- ì—¬ëŸ¬ í™”ë©´ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” UIë“¤ì„ ë³„ë„ë¡œ Custom Classë¡œ ì •ì˜í•˜ì—¬ì„œ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

<br/>

## ğŸš€ Trouble Shooting
### 1) UIKit+Combine í™˜ê²½ì—ì„œ CollectionView ë°”ì¸ë”© ë¬¸ì œ
ViewModelë¡œë¶€í„° ê´€ì°°í•œ ë°ì´í„°ë¥¼ sink í´ë¡œì € ì•ˆì—ì„œ CollectionViewì— ë°”ì¸ë”©ì„ í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.
```swift
output.totalHasMyPlanResult
    .receive(on: DispatchQueue.main)
    .sink { [weak self] response in
        print("collectionViewì— ë°”ì¸ë”© ë  ë°ì´í„°: ", response)
    }
    .store(in: &cancelBag)
````
MVVM ì›ì¹™ì— ë”°ë¼ Viewê°€ Dataë¥¼ ì•Œ í•„ìš”ê°€ ì—†ì—ˆê¸° ë•Œë¬¸ì—, í•´ë‹¹ ë°ì´í„°ë¥¼ ì „ì—­ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬ ì™¸ë¶€ CollectionViewDatasource ë©”ì„œë“œì—ì„œ ë°”ì¸ë”© í•  ìˆ˜ ì—†ì—ˆë˜ ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.

ìƒê°ë‚˜ëŠ” ë°©ì•ˆìœ¼ë¡œëŠ” 2ê°€ì§€ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
1) CollectionViewDiffableDatasourceë¥¼ ì‚¬ìš©í•˜ê¸°
2) ì§ì ‘ CollectionViewDatasourceë¥¼ êµ¬í˜„í•˜ê¸°

```swift
func setUpDataSource() {
    dataSource = UICollectionViewDiffableDataSource(collectionView: collectionView, cellProvider: { (collectionView, indexPath, card) -> UICollectionViewCell? in
        let cell = collectionView.dequeueReusableCell(withReuseIdentifier: "ExampleCell", for: indexPath) as! ExampleCell
        return cell
    })
}
````
1ë²ˆ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ cellProvider í´ë¡œì €ë¥¼ í†µí•´ collectionViewì˜ cellì— ì ‘ê·¼í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, í˜„ì¬ ë·°ì—ì„œëŠ” ë°ì´í„°ì˜ ë³€ë™ì´ ì—†ê³ , ë‹¤ì´ë‚˜ë¯¹í•œ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— DiffableDatasourceë¥¼ ë„ì…í•  í•„ìš”ëŠ” ì—†ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ê·¸ëŸ° ì´ìœ ë¡œ 2ë²ˆ ë°©ë²•ìœ¼ë¡œ íƒí–ˆê³ , ì§ì ‘ CollectionViewDatasource êµ¬í˜„í•˜ì—¬ ë°”ì¸ë”©ì„ í•´ ì£¼ì–´ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
ì „ì—­ìœ¼ë¡œ í•´ë‹¹ CollectionViewDatasourceë¥¼ ì„ ì–¸ë§Œ í•´ ë‘ê³ , sink í´ë¡œì € ë‚´ì—ì„œ í•´ë‹¹ CollectionViewì— ë§ëŠ” ë°ì´í„°ë¥¼ ì´ˆê¸°í™” ì‹œì— ì£¼ì…í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.

```swift
// ì „ì—­ìœ¼ë¡œ ì„ ì–¸
private var mySmeemDataSource: MySmeemCollectionViewDataSource!

output.totalHasMyPlanResult
    .receive(on: DispatchQueue.main)
    .sink { [weak self] response in
        self?.mySmeemDataSource = MySmeemCollectionViewDataSource(numberItems: response.mySummaryNumber,
                                                                  textItems: response.mySumamryText)
        self?.mySmeemCollectionView.dataSource = self?.mySmeemDataSource
        self?.mySmeemCollectionView.reloadData()
    }
    .store(in: &cancelBag)
````

### ì•„ì‰¬ìš´ì 
1. Datasourceê°€ ë°ì´í„°ë¥¼ ì•Œê²Œ ë˜ëŠ” ìƒí™©
   
Datasource ì´ˆê¸°í™” ì‹œì— ë°ì´í„°ë¥¼ ì£¼ì…í•´ ì¤€ ì´í›„ ë°”ì¸ë”©ì€ collectionView ë©”ì„œë“œì—ì„œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì—, ì „ì—­ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
MVVM ì›ì¹™ì„ ë”°ë¥´ê¸° ìœ„í•´ í•´ë‹¹ ë°©ì•ˆì„ ë„ì…í•œ ê²ƒì´ì—ˆëŠ”ë°, ê²°êµ­ì—ì€ ViewControllerê°€ ì•„ë‹Œ Datasourceê°€ ë°ì´í„°ì˜ ì±…ì„ì— ê°–ê²Œ ë˜ì–´ì„œ ì•„ì‰¬ì›€ì´ ë‚¨ì•˜ìŠµë‹ˆë‹¤.
ê¼­ ë‹¤ì´ë‚˜ë¯¹í•œ ë°ì´í„° ë°”ì¸ë”©ì´ë‚˜ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ê°€ ì¤‘ìš”í•œ ìƒí™©ì´ ì•„ë‹ˆë”ë¼ë„, MVVM ì›ì¹™ì„ ì§€í‚¤ê¸° ìœ„í•´ DiffableDatasourceë¥¼ ë„ì…í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ì´ìœ ê°€ ë  ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
```swift
final class MySmeemCollectionViewDataSource: NSObject, UICollectionViewDataSource {
    
    private let numberItems: [Int]
    private let textItems: [String]
    
    init(numberItems: [Int], textItems: [String]) {
        self.numberItems = numberItems
        self.textItems = textItems
    }
    
    func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
        let cell = collectionView.dequeueReusableCell(cellType: MySmeemCollectionViewCell.self, indexPath: indexPath)
        cell.setNumberData(number: self.numberItems[indexPath.item])
        cell.setTextData(text: self.textItems[indexPath.item])
        return cell
    }
}
````
<br/>

### 2) TextView Responder ê¶Œí•œì´ ë‚¨ì•„ ìˆì–´ Keyboard ê°ì§€ Notificationì´ ì¤‘ë³µ í˜¸ì¶œ ë˜ëŠ” ì´ìŠˆ
TextView í´ë¦­ì‹œ í‚¤ë³´ë“œê°€ í™œì„±í™” ë° ë¹„í™œì„±í™” ë˜ë©´ì„œ í‚¤ë³´ë“œ ë†’ì´ ë§Œí¼ í™”ë©´ì„ ì´ë™ì‹œì¼œì•¼ í–ˆê³ , íƒˆí‡´ë²„íŠ¼ í´ë¦­ì‹œ í‚¤ë³´ë“œë¥¼ ê°ì§€í•˜ëŠ” notificationì´ ì¤‘ë³µ í˜¸ì¶œë˜ë©´ì„œ ë‘ ë°° ì´ìƒì˜ í‚¤ë³´ë“œ ë†’ì´ í¬ê¸°ê°€ ì´ë™ë˜ëŠ” ë²„ê·¸ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

![Simulator Screen Recording - iPhone 13 mini-16 - 2024-08-04 at 13 58 23](https://github.com/user-attachments/assets/41c67ec5-8acd-4d26-a126-b7886c5e7c73)

break pointë¥¼ ì°ì–´ ë³´ì•˜ì„ ë•Œ, í‚¤ë³´ë“œê°€ ì‚¬ë¼ì§€ëŠ” ê±¸ ê°ì§€í•˜ëŠ” notification, ì˜¬ë¼ì˜¤ëŠ” ê±¸ ê°ì§€í•˜ëŠ” notificationê°€ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
textViewì— ëŒ€í•œ responder ê¶Œí•œì€ becomeFirstResponder, resignFirstResponder ë©”ì„œë“œë¥¼ í†µí•´ ì œì–´í•˜ê³  ìˆì—ˆëŠ”ë°, ì´ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.
```swift
output.notEnabledButtonResult
    .sink { [weak self] type in
        self?.resignButton.changeButtonType(buttonType: type)
        self?.summaryTextView.becomeFirstResponder()
    }
    .store(in: &cancelBag)
````

### TextViewì— Responder ê¶Œí•œì´ ê³„ì†í•´ì„œ ë‚¨ì•„ ìˆì—ˆë˜ ìƒíƒœ
ì›ì¸ì€ TextView í™œì„±í™”ì‹œ becomeFirstResponder ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ TextViewì— Responder ê¶Œí•œì„ ì¤€ ìƒíƒœì§€ë§Œ, ì´í›„ Responder ê¶Œí•œì„ í•´ì§€í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ ì£¼ì§€ ì•Šì€ ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.
resignResponder ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•„ë„ ë²„íŠ¼ í´ë¦­ì‹œ í‚¤ë³´ë“œê°€ ìë™ìœ¼ë¡œ ë‚´ë ¤ê°”ê¸° ë•Œë¬¸ì— ë†“ì³¤ë˜ ë¶€ë¶„ì´ì—ˆê³ , ê·¸ë ‡ë‹¤ë©´ ì™œ í‚¤ë³´ë“œê°€ ìë™ìœ¼ë¡œ ë¹„í™œì„±í™” ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•´ ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤.

ì´ìœ ëŠ” ë²„íŠ¼ í´ë¦­ì‹œ ì°¨ë¡€ëŒ€ë¡œ
1. UIAlertController íŒì—…ì´ ë¶ˆëŸ¬ì™€ì§€ê³ 
2. Alert ë²„íŠ¼ í´ë¦­ í›„, ì‚­ì œ APIê°€ í˜¸ì¶œì´ ë˜ë©´ì„œ ì´ˆê¸° í™”ë©´ìœ¼ë¡œ ë³´ë‚´ëŠ” ê³¼ì •ì—ì„œ UIApplication ê°ì²´ì— ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.

ì¦‰, TextViewì˜ Responder ê¶Œí•œì´ UIAlertê³¼ UIApplicationìœ¼ë¡œ ì ì‹œ ë„˜ì–´ê°€ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.

```swift
// alert ì°½ì´ ëœ¨ëŠ” ë²„íŠ¼ ì•¡ì…˜
resignButton.tapPublisher
    .sink { [weak self] _ in
        print("íƒˆí‡´ ë²„íŠ¼ í´ë¦­!")
        
        let alert = UIAlertController(title: "ê³„ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?", message: "ì´ì „ì— ì‘ì„±í–ˆë˜ ì¼ê¸°ëŠ” ëª¨ë‘ ì‚¬ë¼ì§‘ë‹ˆë‹¤.", preferredStyle: .alert)
        let cancel = UIAlertAction(title: "ì·¨ì†Œ", style: .cancel) { _ in }
        let delete = UIAlertAction(title: "ì‚­ì œ", style: .destructive) { _ in
            self?.resignButtonTapped.send(())
        }
        alert.addAction(cancel)
        alert.addAction(delete)
        self?.present(alert, animated: true, completion: nil)
    }
    .store(in: &cancelBag)
````
```swift
// íƒˆí‡´ ì„±ê³µ í›„, ì´ˆê¸° í™”ë©´ìœ¼ë¡œ ë³´ë‚´ëŠ” ê³¼ì •ì—ì„œ UIApplication ê°ì²´ì— ì ‘ê·¼
func changeRootViewController(_ viewController: UIViewController) {
    guard let window = UIApplication.shared.windows.first else { return }
    UIView.transition(with: window, duration: 0.5, options: .transitionCrossDissolve, animations: {
        let rootVC = UINavigationController(rootViewController: viewController)
        window.rootViewController = rootVC
    })
}
````
íƒˆí‡´ ë²„íŠ¼ í´ë¦­ì‹œ, UIAlertControllerê°€ í‘œì‹œë˜ë©´ì„œ TextViewê°€ ê°€ì§€ê³  ìˆë˜ first responder ì†Œìœ ê¶Œì„ í¬ê¸°í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¡œì¸í•´ resign ì½”ë“œë¥¼ ì¶”ê°€í•´ ì£¼ì§€ ì•Šì•„ë„ ìì—°ìŠ¤ëŸ½ê²Œ í‚¤ë³´ë“œê°€ ë¹„í™œì„±í™”ë˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆì§€ë§Œ, Alert ë²„íŠ¼ì„ í´ë¦­ í›„ì— Alertì°½ì´ ì‚¬ë¼ì§ˆ ë•Œ, TextViewì—ê²Œ ë‹¤ì‹œ first responder ì†Œìœ ê¶Œì´ ëŒì•„ê°€ê¸° ë•Œë¬¸ì— í‚¤ë³´ë“œê°€ ë‹¤ì‹œ í™œì„±í™”ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ, API í†µì‹  í›„ í™ˆ í™”ë©´ìœ¼ë¡œ ë£¨íŠ¸ ë·°ë¥¼ ë°”ê¿” ì£¼ëŠ” ê³¼ì •ì—ì„œ UIApplication ê°ì²´ì— ì ‘ê·¼í•˜ëŠ” ì½”ë“œë¡œì¸í•´ TextViewì˜ first responder ì†Œìœ ê¶Œì´ ë‹¤ì‹œê¸ˆ ë¹¼ì•—ê¸°ê²Œ ë˜ë©´ì„œ ë˜ ë‹¤ì‹œ í‚¤ë³´ë“œê°€ ë¹„í™œì„±í™”ë˜ëŠ” ê³¼ì •ì„ ê²ªëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ìƒ UIì ìœ¼ë¡œë§Œ TextViewê°€ ì ì‹œ ë‚´ë ¤ê°„ë‹¤ëŠ” ê²ƒì´ê³ , Responderë¥¼ resignì„ í•˜ì§€ëŠ” ì•Šì•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ëë‚´ê³  ë‚˜ë©´ ë‹¤ì‹œê¸ˆ TextViewë¡œ Responder ì†Œìœ ê¶Œì´ ëŒì•„ì˜¨ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆê³ , ê·¸ë¡œì¸í•´ ê³„ì†í•´ì„œ í‚¤ë³´ë“œê°€ í™œì„±í™”ë˜ëŠ” notificationì´ ì¤‘ì²©ë˜ì–´ í˜¸ì¶œë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

### í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” alert ì°½ì´ ëœ¨ê¸° ì „ì— ì§ì ‘ TextViewì˜ Responder ê¶Œí•œì„ í•´ì§€í•´ ì£¼ê¸°
```swift
resignButton.tapPublisher
    .handleEvents(receiveOutput: {[weak self] _ in
        self?.summaryTextView.resignFirstResponder()
    })
    .sink { [weak self] _ in
        print("íƒˆí‡´ ë²„íŠ¼ í´ë¦­!")
        
        let alert = UIAlertController(title: "ê³„ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?", message: "ì´ì „ì— ì‘ì„±í–ˆë˜ ì¼ê¸°ëŠ” ëª¨ë‘ ì‚¬ë¼ì§‘ë‹ˆë‹¤.", preferredStyle: .alert)
        let cancel = UIAlertAction(title: "ì·¨ì†Œ", style: .cancel) { _ in }
        let delete = UIAlertAction(title: "ì‚­ì œ", style: .destructive) { _ in
            self?.resignButtonTapped.send(())
        }
        alert.addAction(cancel)
        alert.addAction(delete)
        self?.present(alert, animated: true, completion: nil)
    }
    .store(in: &cancelBag)
````
íƒˆí‡´í•˜ê¸° ë²„íŠ¼ì´ tap ë˜ì—ˆì„ ë•Œ, í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³  ê²°ê³¼ë¥¼ ë°›ê¸° ì „ì— handlerEvents operatorë¥¼ ì‚¬ìš©í•˜ì—¬ textViewì˜ ì†Œìœ ê¶Œì„ ì§ì ‘ resign í•´ ì£¼ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.
ê·¸ë¡œì¸í•´ Alert ì°½ì´ ëœ¨ê³  ì‚¬ë¼ì ¸ë„ responderì˜ ê¶Œí•œì´ ë‹¤ì‹œ textViewë¡œ ë„˜ì–´ê°€ì§€ ì•Šê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

![Simulator Screen Recording - iPhone 13 mini-16 - 2024-08-04 at 17 49 42](https://github.com/user-attachments/assets/704a8280-309c-44e3-b97b-2d76ee7dedbe)
<br/>

## âœ¨ ìš´ì˜ ì¤‘ ì„œë¹„ìŠ¤ ê°œì„  ê²½í—˜
### 1) ìš´ì˜ ì„œë¹„ìŠ¤ì—ì„œ ì—ëŸ¬ ë°œìƒ ì‹œ ì•± ë©ˆì¶° ë²„ë¦¬ëŠ” í˜„ìƒ ê°œì„ 
ìš´ì˜ ì„œë¹„ìŠ¤ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ, ê·¸ì— ë”°ë¥¸ ì—ëŸ¬ í•¸ë“¤ë§ì´ ì œëŒ€ë¡œ êµ¬ì¶•ë˜ì–´ ìˆì§€ ì•Šì•„ì„œ ì„œë¹„ìŠ¤ê°€ ê·¸ëŒ€ë¡œ ë¬µë¬µë¶€ë‹´ìœ¼ë¡œ ë©ˆì¶° ë²„ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒí–ˆì—ˆìŠµë‹ˆë‹¤. íŒ€ ë‚´ì—ì„œ ì•±ì´ ë©ˆì¶°ë²„ë¦¬ëŠ” í˜„ìƒì„ ìœ ì €ì—ê²Œ ë…¸ì¶œì‹œì¼œì„œëŠ” ì•ˆëœë‹¤ëŠ” ì˜ê²¬ì´ ë‚˜ì™”ê³ , ì˜ë…¼ ëì— ì„¸ ê°€ì§€ ì—ëŸ¬ ìƒí™©ì„ ì •ì˜í•´ ë‘ê³  í•´ë‹¹ ì¼€ì´ìŠ¤ì— ë§ëŠ” í† ìŠ¤íŠ¸ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ ì£¼ê³  ì¬ì‹œë„ë¥¼ ìš”ì²­í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

Smeem ì„œë¹„ìŠ¤ê°€ ì •ì˜ ë‚´ë¦° ì—ëŸ¬ ìƒí™©ì€ ì„¸ ê°€ì§€ì…ë‹ˆë‹¤.
- ì‹œìŠ¤í…œ ì—ëŸ¬ (í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬)
- ë°ì´í„° ì—ëŸ¬ (ì„œë²„ ì—ëŸ¬)
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì‹¤íŒ¨ (ìœ ì € ì—ëŸ¬)

ì„œë²„ì—ì„œ ë‚´ë ¤ì˜¤ëŠ” statusCodeë¥¼ í†µí•´ ì„¸ ê°€ì§€ ì—ëŸ¬ ìƒí™©ì„ ë¶„ê¸°í•´ ì£¼ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
```swift
final class NetworkManager {
    static func statusCodeErrorHandling(statusCode: Int) throws {
        switch statusCode {
        case 400..<500:
            throw SmeemError.clientError
        case 500...:
            throw SmeemError.serverError
        default:
            return
        }
    }
}
````

ì„œë²„ í†µì‹  í›„,ë§¤í•‘ì´ ì˜ëª»ë˜ëŠ” ìƒí™©ì—ëŠ” client error, ì„œë²„ í†µì‹  ìì²´ëŠ” ì„±ê³µí–ˆì§€ë§Œ ì„œë²„ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ê²½ìš° catchë¬¸ìœ¼ë¡œ errorë¥¼, case .failureì€ ì„œë²„ í†µì‹ , ì‹¤íŒ¨ ìœ ë¬´ë¥¼ ë– ë‚˜ì„œ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìì²´ê°€ ì•ˆ ë˜ì–´ ìˆëŠ” ìƒí™©ì´ê¸° ë•Œë¬¸ì— ì„œë¹„ìŠ¤ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ .userError íƒ€ì…ì„ ë³´ë‚´ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
```swift
case .success(let response):
    do {
        try NetworkManager.statusCodeErrorHandling(statusCode: response.statusCode)
        guard let data = try? response.map(GeneralResponse<MySummaryResponse>.self).data else {
            throw SmeemError.clientError
        }
        completion(.success(data))
    } catch let error {
        guard let error = error as? SmeemError else { return }
        completion(.failure(error))
    }
case .failure(_):
    completion(.failure(.userError))
}
````
ViewModelì—ì„œ ì„œë²„ í†µì‹  í›„, ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ê²½ìš° errorSubjectë¡œ ê°’ì„ í˜ë ¤ë³´ë‚´ ì£¼ê³ , Viewì—ì„œëŠ” errorSubjectë¥¼ ê´€ì°°í•˜ê³  ìˆë‹¤ê°€ ì–´ë–¤ ì—ëŸ¬ì¸ì§€ ì•Œ í•„ìš” ì—†ì´ ê·¸ì € ì „ë‹¬ë°›ì€ ì—ëŸ¬ íƒ€ì…ì„ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ë¡œ ë„ì›Œ ì£¼ëŠ” í–‰ìœ„ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ Viewì™€ ViewModelì˜ ì—­í• ì„ ë¶„ë¦¬í•˜ì—¬ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
```swift
output.errorResult
    .receive(on: DispatchQueue.main)
    .sink { [weak self] error in
        self?.showToast(toastType: .smeemErrorToast(message: error))
    }
    .store(in: &cancelBag)
````
<br/>

![img](https://github.com/user-attachments/assets/23a9e49d-7603-4ed7-b775-8c7dea0c43aa)

ë§Œì•½ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´ ìœ„ì™€ ê°™ì´ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ë¥¼ í†µí•´ ìœ ì €ì—ê²Œ ì¬ì ‘ì†ì„ ìš”ì²­í•˜ê²Œ ë˜ê³ , ìœ ì €ì—ê²Œ ë³´ë‹¤ ë” ì¹œì ˆí•œ UIë¥¼ ì œê³µí•˜ë„ë¡ ê°œì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
