# Smeem iOS

<img width="908" alt="image" src="https://github.com/Team-Smeme/Smeme-server-renewal/assets/55437339/d375dc1c-abb0-4e2e-a6e5-aad074913114">

<br/><br/>

- âœï¸ **ì„œë¹„ìŠ¤ ì†Œê°œ**: [ì„œë¹„ìŠ¤ ì†Œê°œ ë°”ë¡œê°€ê¸°](https://linktr.ee/smeem)
- ğŸ“± **iOS ë‹¤ìš´ë¡œë“œ**: [App Stroe ë°”ë¡œê°€ê¸°](https://apps.apple.com/kr/app/smeem-%EC%8A%A4%EB%B0%88-%EC%98%81%EC%9E%91-%EC%98%81%EC%96%B4%EC%9D%BC%EA%B8%B0-%EC%98%81%EC%96%B4%EB%85%B8%ED%8A%B8/id6450711685)
- ğŸ“± **Android ë‹¤ìš´ë¡œë“œ**: [App Stroe ë°”ë¡œê°€ê¸°](https://play.google.com/store/apps/details?id=com.sopt.smeem)

<br/>

## ğŸ§‘â€ğŸ’» íŒ€ì› ì†Œê°œ (Team)

| [í™©ì°¬ë¯¸](https://github.com/cchanmi) | [ë°±ì¤€](https://github.com/joonBaek12) |
| --- | --- |
| <img width="250" alt="image" src="https://github.com/Team-Smeme/Smeem-iOS/assets/86944161/44830ea7-faac-4dcd-a778-0c49d3eb7c7a" /> | <img width="250" alt="image" src="https://github.com/Team-Smeme/Smeem-iOS/assets/86944161/0e0cfcb6-d4d7-41f7-9eb0-7f516480939c" /> |
| iOS Lead Developer | iOS Developer |
| - í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„ / ë¦¬íŒ©í† ë§<br/>- ìŠ¤í”Œë˜ì‹œ, ì˜¨ë³´ë”©, ë§ˆì´í˜ì´ì§€ ë·° êµ¬í˜„<br/> | - í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„ / ë¦¬íŒ©í† ë§<br/>- í™ˆ, ì¼ê¸° ì‘ì„±, ìƒì„¸ ì¼ê¸° ë·° êµ¬í˜„ |

<br/>

## âš’ï¸ ê°œë°œ í™˜ê²½
- iOS 15.0 +
- Xcode 15.0

<br/>

## âœ”ï¸ ì‚¬ìš© ê¸°ìˆ  & ë¼ì´ë¸ŒëŸ¬ë¦¬
- UIKit
- Combine
- Moya
- Firebase
- KakaoOpenSDK
- Kingfisher
- Snapkit

<br/>

## ğŸ—‚ï¸ Skills

### MVVM Pattern

<img width="632" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-11 á„‹á…©á„’á…® 8 39 12" src="https://github.com/Team-Smeme/Smeem-iOS/assets/86944161/13946768-5b6b-4273-959b-a0af4835c581">

- MVVM íŒ¨í„´ìœ¼ë¡œ UIì™€ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.
- ViewModelì˜ Inputê³¼ Output êµ¬ì¡°ë¥¼ í†µí•´ ë°ì´í„° íë¦„ì„ ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.

<br/>

### Combine

- Combine Frameworkë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
- ë¹„ë™ê¸° ì‘ì—…ë“¤ì„ ì§‘ì¤‘í™”í•˜ê³  ì½”ë“œë¥¼ ì§ê´€ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

<br/>

### Unit Test Code

- ê¸°ëŠ¥ ê°œë°œ í›„, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ code coverage 80% ì´ìƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

<br/>

### DesignSystem & Custom UI

- í”„ë¡œì íŠ¸ ì‹œì‘ ì „ DesignSystem í™˜ê²½ì„ êµ¬ì¶•í•˜ì—¬ ìƒìˆ˜í™”ëœ ì»¬ëŸ¬, í°íŠ¸, ì´ë¯¸ì§€ì— í¸í•˜ê²Œ ì ‘ê·¼í•©ë‹ˆë‹¤.
- ì—¬ëŸ¬ í™”ë©´ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” UIë“¤ì„ ë³„ë„ë¡œ Custom Classë¡œ ì •ì˜í•˜ì—¬ì„œ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

<br/>

## ğŸš€ Trouble Shooting
### 1) UIKit+Combine í™˜ê²½ì—ì„œ CollectionView ë°”ì¸ë”© ë¬¸ì œ
ViewModelë¡œë¶€í„° ê´€ì°°í•œ ë°ì´í„°ë¥¼ sink í´ë¡œì € ì•ˆì—ì„œ CollectionViewì— ë°”ì¸ë”©ì„ í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.
```swift
output.totalHasMyPlanResult
    .receive(on: DispatchQueue.main)
    .sink { [weak self] response in
        print("collectionViewì— ë°”ì¸ë”© ë  ë°ì´í„°: ", response)
    }
    .store(in: &cancelBag)
````
MVVM ì›ì¹™ì— ë”°ë¼ Viewê°€ Dataë¥¼ ì•Œ í•„ìš”ê°€ ì—†ì—ˆê¸° ë•Œë¬¸ì—, í•´ë‹¹ ë°ì´í„°ë¥¼ ì „ì—­ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬ ì™¸ë¶€ CollectionViewDatasource ë©”ì„œë“œì—ì„œ ë°”ì¸ë”© í•  ìˆ˜ ì—†ì—ˆë˜ ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.

ìƒê°ë‚˜ëŠ” ë°©ì•ˆìœ¼ë¡œëŠ” 2ê°€ì§€ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
1) CollectionViewDiffableDatasourceë¥¼ ì‚¬ìš©í•˜ê¸°
2) ì§ì ‘ CollectionViewDatasourceë¥¼ êµ¬í˜„í•˜ê¸°

```swift
func setUpDataSource() {
    dataSource = UICollectionViewDiffableDataSource(collectionView: collectionView, cellProvider: { (collectionView, indexPath, card) -> UICollectionViewCell? in
        let cell = collectionView.dequeueReusableCell(withReuseIdentifier: "ExampleCell", for: indexPath) as! ExampleCell
        return cell
    })
}
````
1ë²ˆ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ cellProvider í´ë¡œì €ë¥¼ í†µí•´ collectionViewì˜ cellì— ì ‘ê·¼í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, í˜„ì¬ ë·°ì—ì„œëŠ” ë°ì´í„°ì˜ ë³€ë™ì´ ì—†ê³ , ë‹¤ì´ë‚˜ë¯¹í•œ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— DiffableDatasourceë¥¼ ë„ì…í•  í•„ìš”ëŠ” ì—†ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ê·¸ëŸ° ì´ìœ ë¡œ 2ë²ˆ ë°©ë²•ìœ¼ë¡œ íƒí–ˆê³ , ì§ì ‘ CollectionViewDatasource êµ¬í˜„í•˜ì—¬ ë°”ì¸ë”©ì„ í•´ ì£¼ì–´ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
ì „ì—­ìœ¼ë¡œ í•´ë‹¹ CollectionViewDatasourceë¥¼ ì„ ì–¸ë§Œ í•´ ë‘ê³ , sink í´ë¡œì € ë‚´ì—ì„œ í•´ë‹¹ CollectionViewì— ë§ëŠ” ë°ì´í„°ë¥¼ ì´ˆê¸°í™” ì‹œì— ì£¼ì…í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.

```swift
// ì „ì—­ìœ¼ë¡œ ì„ ì–¸
private var mySmeemDataSource: MySmeemCollectionViewDataSource!

output.totalHasMyPlanResult
    .receive(on: DispatchQueue.main)
    .sink { [weak self] response in
        self?.mySmeemDataSource = MySmeemCollectionViewDataSource(numberItems: response.mySummaryNumber,
                                                                  textItems: response.mySumamryText)
        self?.mySmeemCollectionView.dataSource = self?.mySmeemDataSource
        self?.mySmeemCollectionView.reloadData()
    }
    .store(in: &cancelBag)
````

### ì•„ì‰¬ìš´ì 
1. Datasourceê°€ ë°ì´í„°ë¥¼ ì•Œê²Œ ë˜ëŠ” ìƒí™©
   
Datasource ì´ˆê¸°í™” ì‹œì— ë°ì´í„°ë¥¼ ì£¼ì…í•´ ì¤€ ì´í›„ ë°”ì¸ë”©ì€ collectionView ë©”ì„œë“œì—ì„œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì—, ì „ì—­ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
MVVM ì›ì¹™ì„ ë”°ë¥´ê¸° ìœ„í•´ í•´ë‹¹ ë°©ì•ˆì„ ë„ì…í•œ ê²ƒì´ì—ˆëŠ”ë°, ê²°êµ­ì—ì€ ViewControllerê°€ ì•„ë‹Œ Datasourceê°€ ë°ì´í„°ì˜ ì±…ì„ì— ê°–ê²Œ ë˜ì–´ì„œ ì•„ì‰¬ì›€ì´ ë‚¨ì•˜ìŠµë‹ˆë‹¤.
ê¼­ ë‹¤ì´ë‚˜ë¯¹í•œ ë°ì´í„° ë°”ì¸ë”©ì´ë‚˜ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ê°€ ì¤‘ìš”í•œ ìƒí™©ì´ ì•„ë‹ˆë”ë¼ë„, MVVM ì›ì¹™ì„ ì§€í‚¤ê¸° ìœ„í•´ DiffableDatasourceë¥¼ ë„ì…í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ì´ìœ ê°€ ë  ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
```swift
final class MySmeemCollectionViewDataSource: NSObject, UICollectionViewDataSource {
    
    private let numberItems: [Int]
    private let textItems: [String]
    
    init(numberItems: [Int], textItems: [String]) {
        self.numberItems = numberItems
        self.textItems = textItems
    }
    
    func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
        let cell = collectionView.dequeueReusableCell(cellType: MySmeemCollectionViewCell.self, indexPath: indexPath)
        cell.setNumberData(number: self.numberItems[indexPath.item])
        cell.setTextData(text: self.textItems[indexPath.item])
        return cell
    }
}
````
